[gd_scene load_steps=6 format=3 uid="uid://bcrwwf23mm57c"]

[ext_resource type="Texture2D" uid="uid://drx5u3lfj4stl" path="res://finish/victory.jpeg" id="1_7f5lg"]
[ext_resource type="FontFile" uid="uid://ccxnv8q4bwpfg" path="res://Vampire Wars.ttf" id="2_66425"]
[ext_resource type="FontVariation" uid="uid://beb3qvqoyrr5b" path="res://finish.tres" id="3_8hpns"]
[ext_resource type="AudioStream" uid="uid://ebitq5ehk856" path="res://sounds/win.mp3" id="4_4uheg"]

[sub_resource type="GDScript" id="GDScript_18h0e"]
resource_name = "victory"
script/source = "extends Node2D
@onready var global_node = get_node(\"/root/Global\")
@onready var client = get_node(\"/root/TCPClient\")

# Called when the node enters the scene tree for the first time.
func _ready():
	$Win.play()
	$Info.text  = \"Total shots: {0}\\n\".format([global_node.fired_shots])
	$Info.text += \"       Hits: {0}\\n\".format([global_node.hit_shots])
	$Info.text += \"     Misses: {0}\\n\".format([global_node.missed_shots])
	OS.delay_msec(1000)
	client.disconnect_from_host()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	pass
"

[node name="Victory" type="Node2D"]
script = SubResource("GDScript_18h0e")

[node name="Victory" type="Sprite2D" parent="."]
position = Vector2(303, 503)
scale = Vector2(0.6, 0.6)
texture = ExtResource("1_7f5lg")

[node name="victory_label" type="RichTextLabel" parent="."]
offset_left = 45.0
offset_top = 37.0
offset_right = 536.0
offset_bottom = 140.0
theme_override_fonts/normal_font = ExtResource("2_66425")
theme_override_font_sizes/normal_font_size = 70
bbcode_enabled = true
text = "[center]VICTORY[/center]"

[node name="Info" type="RichTextLabel" parent="."]
offset_left = 72.0
offset_top = 153.0
offset_right = 522.0
offset_bottom = 306.0
theme_override_fonts/normal_font = ExtResource("3_8hpns")
theme_override_font_sizes/normal_font_size = 40
bbcode_enabled = true

[node name="Win" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_4uheg")
